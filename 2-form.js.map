{"version":3,"file":"2-form.js","sources":["../src/js/local-storage.js","../src/js/2-form.js"],"sourcesContent":["export function saveInLS(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getFromLS(key) {\n  const savedData = localStorage.getItem(key);\n  if (savedData) {\n    return JSON.parse(savedData);\n  }\n  return null;\n}\n\nexport function removeFromLS(key) {\n  localStorage.removeItem(key);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getFromLS, removeFromLS, saveInLS } from './local-storage';\n\nconst LS_KEY = 'feedback-form-state';\nconst formData = { email: '', message: '' };\nconst form = document.querySelector('.js-form');\n\nform.addEventListener('input', onInput);\nform.addEventListener('submit', onFormSubmit);\n\npopulateForm();\n\nfunction populateForm() {\n  const savedData = getFromLS(LS_KEY);\n  if (savedData) {\n    const { email, message } = savedData;\n    formData.email = email || '';\n    formData.message = message || '';\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n}\n\nfunction onInput() {\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n  saveInLS(LS_KEY, formData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    iziToast.warning({\n      timeout: 5000,\n      message: 'Fill please all fields',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  console.log(formData);\n  form.reset();\n  removeFromLS(LS_KEY);\n  formData.email = '';\n  formData.message = '';\n  iziToast.success({\n    timeout: 5000,\n    position: 'topRight',\n    message: 'Message sent! We appreciate your input!',\n  });\n}\n// TODO Оптимізувати для роботи з формою з n-кількістю полей\n"],"names":["saveInLS","key","data","getFromLS","savedData","removeFromLS","LS_KEY","formData","form","onInput","onFormSubmit","populateForm","email","message","event","iziToast"],"mappings":"mIAAO,SAASA,EAASC,EAAKC,EAAM,CAClC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEO,SAASC,EAAUF,EAAK,CAC7B,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAIG,EACK,KAAK,MAAMA,CAAS,EAEtB,IACT,CAEO,SAASC,EAAaJ,EAAK,CAChC,aAAa,WAAWA,CAAG,CAC7B,CCVA,MAAMK,EAAS,sBACTC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EACrCC,EAAO,SAAS,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,QAASC,CAAO,EACtCD,EAAK,iBAAiB,SAAUE,CAAY,EAE5CC,EAAc,EAEd,SAASA,GAAe,CACtB,MAAMP,EAAYD,EAAUG,CAAM,EAClC,GAAIF,EAAW,CACb,KAAM,CAAE,MAAAQ,EAAO,QAAAC,CAAO,EAAKT,EAC3BG,EAAS,MAAQK,GAAS,GAC1BL,EAAS,QAAUM,GAAW,GAC9BL,EAAK,SAAS,MAAM,MAAQI,EAC5BJ,EAAK,SAAS,QAAQ,MAAQK,CAClC,CACA,CAEA,SAASJ,GAAU,CACjBF,EAAS,MAAQC,EAAK,SAAS,MAAM,MAAM,KAAM,EACjDD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAAM,KAAM,EACrDR,EAASM,EAAQC,CAAQ,CAC3B,CAEA,SAASG,EAAaI,EAAO,CAE3B,GADAA,EAAM,eAAgB,EAClBP,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpDQ,EAAS,QAAQ,CACf,QAAS,IACT,QAAS,yBACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEE,QAAQ,IAAIR,CAAQ,EACpBC,EAAK,MAAO,EACZH,EAAaC,CAAM,EACnBC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBQ,EAAS,QAAQ,CACf,QAAS,IACT,SAAU,WACV,QAAS,yCACb,CAAG,CACH"}