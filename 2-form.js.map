{"version":3,"file":"2-form.js","sources":["../src/js/local-storage.js","../src/js/2-form.js"],"sourcesContent":["export function saveInLS(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getFromLS(key) {\n  const savedData = localStorage.getItem(key);\n  if (savedData) {\n    return JSON.parse(savedData);\n  }\n  return null;\n}\n\nexport function removeFromLS(key) {\n  localStorage.removeItem(key);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getFromLS, removeFromLS, saveInLS } from './local-storage';\n\nconst LS_KEY = 'feedback-form-state';\nconst formData = { email: '', message: '' };\nconst form = document.querySelector('.js-form');\nconst savedData = getFromLS(LS_KEY);\n\nform.addEventListener('input', onInput);\nform.addEventListener('submit', onFormSubmit);\n\nif (savedData) {\n  const { email, message } = savedData;\n  formData.email = email || '';\n  formData.message = message || '';\n  form.elements.email.value = email;\n  form.elements.message.value = message;\n}\n\nfunction onInput() {\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n  saveInLS(LS_KEY, formData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    iziToast.warning({\n      timeout: 5000,\n      message: 'Fill please all fields',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  console.log(formData);\n  form.reset();\n  removeFromLS(LS_KEY);\n  formData.email = '';\n  formData.message = '';\n  iziToast.success({\n    timeout: 5000,\n    position: 'topRight',\n    message: 'Message sent! We appreciate your input!',\n  });\n}\n// TODO Оптимізувати для роботи з формою з n-кількістю полей\n"],"names":["saveInLS","key","data","getFromLS","savedData","removeFromLS","LS_KEY","formData","form","onInput","onFormSubmit","email","message","event","iziToast"],"mappings":"wIAAO,SAASA,EAASC,EAAKC,EAAM,CAClC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEO,SAASC,EAAUF,EAAK,CAC7B,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAIG,EACK,KAAK,MAAMA,CAAS,EAEtB,IACT,CAEO,SAASC,EAAaJ,EAAK,CAChC,aAAa,WAAWA,CAAG,CAC7B,CCVA,MAAMK,EAAS,sBACTC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EACrCC,EAAO,SAAS,cAAc,UAAU,EACxCJ,EAAYD,EAAUG,CAAM,EAElCE,EAAK,iBAAiB,QAASC,CAAO,EACtCD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,GAAIN,EAAW,CACb,KAAM,CAAE,MAAAO,EAAO,QAAAC,CAAO,EAAKR,EAC3BG,EAAS,MAAQI,GAAS,GAC1BJ,EAAS,QAAUK,GAAW,GAC9BJ,EAAK,SAAS,MAAM,MAAQG,EAC5BH,EAAK,SAAS,QAAQ,MAAQI,CAChC,CAEA,SAASH,GAAU,CACjBF,EAAS,MAAQC,EAAK,SAAS,MAAM,MAAM,KAAM,EACjDD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAAM,KAAM,EACrDR,EAASM,EAAQC,CAAQ,CAC3B,CAEA,SAASG,EAAaG,EAAO,CAE3B,GADAA,EAAM,eAAgB,EAClBN,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpDO,EAAS,QAAQ,CACf,QAAS,IACT,QAAS,yBACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEE,QAAQ,IAAIP,CAAQ,EACpBC,EAAK,MAAO,EACZH,EAAaC,CAAM,EACnBC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBO,EAAS,QAAQ,CACf,QAAS,IACT,SAAU,WACV,QAAS,yCACb,CAAG,CACH"}